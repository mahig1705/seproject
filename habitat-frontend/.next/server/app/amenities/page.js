(()=>{var e={};e.id=596,e.ids=[596],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=s(482),r=s(9108),i=s(2563),l=s.n(i),n=s(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["amenities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9568)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\amenities\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6313)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\amenities\\page.tsx"],u="/amenities/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/amenities/page",pathname:"/amenities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7831:(e,t,s)=>{Promise.resolve().then(s.bind(s,9253))},5695:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},1838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9253:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(2295),r=s(3729),i=s(5814),l=s(951),n=s(9956),c=s(4034),d=s(342),o=s(4388),u=s(793),x=s(2522),m=s(8243),p=s(1838),h=s(9629),y=s(9895),j=s(5794),g=s(5695),v=s(8271),f=s(1453),b=s(4669);function N(){let{hasPermission:e}=(0,i.useAuth)(),[t,s]=(0,r.useState)([]),[N,w]=(0,r.useState)(!0),[C,k]=(0,r.useState)(""),[q,A]=(0,r.useState)(!1),[E,z]=(0,r.useState)(!1),[Z,_]=(0,r.useState)(null),[P,M]=(0,r.useState)({name:"",description:"",capacity:"",rules:[]}),[S,D]=(0,r.useState)("");(0,r.useEffect)(()=>{e("amenities:read")&&I()},[]);let I=async()=>{try{w(!0);let e=await m.E.getAmenities();s(e.data)}catch(e){b.default.error("Failed to fetch amenities")}finally{w(!1)}},L=async e=>{e.preventDefault();try{await m.E.createAmenity({...P,capacity:Number(P.capacity)}),b.default.success("Amenity created successfully"),A(!1),U(),I()}catch(e){b.default.error("Failed to create amenity")}},F=async e=>{if(e.preventDefault(),Z)try{await m.E.updateAmenity(Z._id,{...P,capacity:Number(P.capacity)}),b.default.success("Amenity updated successfully"),z(!1),_(null),U(),I()}catch(e){b.default.error("Failed to update amenity")}},H=async e=>{if(confirm("Are you sure you want to delete this amenity?"))try{await m.E.deleteAmenity(e),b.default.success("Amenity deleted successfully"),I()}catch(e){b.default.error("Failed to delete amenity")}},U=()=>{M({name:"",description:"",capacity:"",rules:[]}),D("")},G=e=>{_(e),M({name:e.name||"",description:e.description||"",capacity:(e.capacity??"").toString(),rules:e.rules||[]}),z(!0)},O=()=>{S.trim()&&(M(e=>({...e,rules:[...e.rules,S.trim()]})),D(""))},R=e=>{M(t=>({...t,rules:t.rules.filter((t,s)=>s!==e)}))},Y=(t||[]).filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase()));return e("amenities:read")?(0,a.jsxs)(l.A,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Amenities"}),e("amenities:write")&&(0,a.jsxs)(c.z,{onClick:()=>A(!0),children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Add Amenity"]})]}),a.jsx(n.Zb,{children:a.jsx(n.aY,{className:"p-6",children:a.jsx(d.I,{placeholder:"Search amenities...",value:C,onChange:e=>k(e.target.value)})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N?a.jsx("div",{className:"col-span-full text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})}):Y.map(t=>(0,a.jsxs)(n.Zb,{className:"relative",children:[a.jsx(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)(n.ll,{className:"text-lg flex items-center space-x-2",children:[a.jsx(h.Z,{className:"w-5 h-5 text-primary-600"}),a.jsx("span",{children:t.name})]}),a.jsx(u.C,{variant:t.isActive?"success":"default",children:t.isActive?"Active":"Inactive"})]})}),(0,a.jsxs)(n.aY,{children:[a.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(y.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Capacity: ",t.capacity," people"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Created: ",(0,f.p6)(t.createdAt)]})]})]}),(t.rules||[]).length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rules:"}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:(t.rules||[]).map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-primary-600",children:"â€¢"}),a.jsx("span",{children:e})]},t))})]}),e("amenities:write")&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-200",children:[a.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>G(t),children:a.jsx(g.Z,{className:"w-4 h-4"})}),a.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>H(t._id),className:"text-red-600 hover:text-red-700",children:a.jsx(v.Z,{className:"w-4 h-4"})})]})]})]},t._id))}),0===Y.length&&!N&&a.jsx(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"p-12 text-center",children:[a.jsx(h.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No amenities found"}),a.jsx("p",{className:"text-gray-600",children:"Add your first amenity to get started."})]})})]}),a.jsx(x.u,{isOpen:q,onClose:()=>A(!1),title:"Add New Amenity",size:"lg",children:(0,a.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[a.jsx(d.I,{label:"Name",value:P.name,onChange:e=>M(t=>({...t,name:e.target.value})),placeholder:"Enter amenity name",required:!0}),a.jsx(o.g,{label:"Description",value:P.description,onChange:e=>M(t=>({...t,description:e.target.value})),placeholder:"Enter amenity description",rows:3,required:!0}),a.jsx(d.I,{label:"Capacity",type:"number",value:P.capacity,onChange:e=>M(t=>({...t,capacity:e.target.value})),placeholder:"Enter maximum capacity",min:"1",required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rules"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.I,{value:S,onChange:e=>D(e.target.value),placeholder:"Enter a rule",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),O())}),a.jsx(c.z,{type:"button",onClick:O,variant:"outline",children:"Add"})]}),P.rules.length>0&&a.jsx("div",{className:"space-y-1",children:P.rules.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e}),a.jsx(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>R(t),className:"text-red-600 hover:text-red-700",children:a.jsx(v.Z,{className:"w-3 h-3"})})]},t))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(c.z,{type:"button",variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsx(c.z,{type:"submit",children:"Create Amenity"})]})]})}),a.jsx(x.u,{isOpen:E,onClose:()=>z(!1),title:"Edit Amenity",size:"lg",children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[a.jsx(d.I,{label:"Name",value:P.name,onChange:e=>M(t=>({...t,name:e.target.value})),required:!0}),a.jsx(o.g,{label:"Description",value:P.description,onChange:e=>M(t=>({...t,description:e.target.value})),rows:3,required:!0}),a.jsx(d.I,{label:"Capacity",type:"number",value:P.capacity,onChange:e=>M(t=>({...t,capacity:e.target.value})),min:"1",required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rules"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.I,{value:S,onChange:e=>D(e.target.value),placeholder:"Enter a rule",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),O())}),a.jsx(c.z,{type:"button",onClick:O,variant:"outline",children:"Add"})]}),P.rules.length>0&&a.jsx("div",{className:"space-y-1",children:P.rules.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e}),a.jsx(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>R(t),className:"text-red-600 hover:text-red-700",children:a.jsx(v.Z,{className:"w-3 h-3"})})]},t))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(c.z,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),a.jsx(c.z,{type:"submit",children:"Update Amenity"})]})]})})]}):a.jsx(l.A,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})})}},342:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var a=s(2295);s(3729);var r=s(1453);let i=({label:e,error:t,helperText:s,className:i,id:l,...n})=>{let c=l||`input-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"space-y-2",children:[e&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{id:c,className:(0,r.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",t&&"border-red-500 focus:ring-red-500",i),...n}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),s&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:s})]})}},2522:(e,t,s)=>{"use strict";s.d(t,{u:()=>n});var a=s(2295),r=s(3729),i=s(1453),l=s(4513);let n=({isOpen:e,onClose:t,title:s,children:n,size:c="md"})=>((0,r.useEffect)(()=>{let s=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e)?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:(0,i.cn)("relative bg-white rounded-lg shadow-xl w-full",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[c]),children:[s&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(l.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-6",children:n})]})]})}):null},4388:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(2295);s(3729);var r=s(1453);let i=({label:e,error:t,helperText:s,className:i,id:l,...n})=>{let c=l||`textarea-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"space-y-2",children:[e&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("textarea",{id:c,className:(0,r.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-vertical",t&&"border-red-500 focus:ring-red-500",i),...n}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),s&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:s})]})}},9568:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,s(6843).createProxy)(String.raw`C:\Users\Mahi\Downloads\Habitat\habitat-frontend\src\app\amenities\page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[550,694,783,638,328],()=>s(6714));module.exports=a})();