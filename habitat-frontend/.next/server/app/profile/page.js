(()=>{var e={};e.id=178,e.ids=[178],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3119:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=r(482),t=r(9108),l=r(2563),i=r.n(l),n=r(8300),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);r.d(s,c);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5648)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6313)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\profile\\page.tsx"],u="/profile/page",x={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3730:(e,s,r)=>{Promise.resolve().then(r.bind(r,159))},5695:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(9224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},159:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>w});var a=r(2295),t=r(3729),l=r(5814),i=r(951),n=r(9956),c=r(4034),d=r(342),o=r(793),u=r(2522),x=r(8243),m=r(5695),h=r(4513),p=r(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,p.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),j=(0,p.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g=(0,p.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var y=r(1453),v=r(4669);function w(){let{user:e}=(0,l.useAuth)(),[s,r]=(0,t.useState)(!1),[p,w]=(0,t.useState)(!1),[b,N]=(0,t.useState)({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",flatNumber:e?.flatNumber||"",building:e?.building||""}),[P,C]=(0,t.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[q,k]=(0,t.useState)(!1),_=async()=>{if(e)try{k(!0);let{occupantsCount:s,...a}=b;await x.E.updateUser(e._id,a),v.default.success("Profile updated successfully"),r(!1)}catch(e){v.default.error("Failed to update profile")}finally{k(!1)}},M=async e=>{if(e.preventDefault(),P.newPassword!==P.confirmPassword){v.default.error("New passwords do not match");return}if(P.newPassword.length<6){v.default.error("New password must be at least 6 characters");return}try{k(!0),v.default.success("Password changed successfully"),w(!1),C({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){v.default.error("Failed to change password")}finally{k(!1)}};return e?(0,a.jsxs)(i.A,{children:[(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),a.jsx("div",{className:"flex space-x-2",children:s?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>{N({name:e?.name||"",email:e?.email||"",phone:e?.phone||"",flatNumber:e?.flatNumber||"",building:e?.building||""}),r(!1)},children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(c.z,{onClick:_,loading:q,children:[a.jsx(f,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]}):(0,a.jsxs)(c.z,{onClick:()=>r(!0),children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Personal Information"})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d.I,{label:"Full Name",value:b.name,onChange:e=>N(s=>({...s,name:e.target.value})),disabled:!s,required:!0}),a.jsx(d.I,{label:"Email",type:"email",value:b.email,onChange:e=>N(s=>({...s,email:e.target.value})),disabled:!s,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d.I,{label:"Phone",value:b.phone,onChange:e=>N(s=>({...s,phone:e.target.value})),disabled:!s}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(d.I,{label:"Role",value:e.role,disabled:!0,className:"flex-1"}),a.jsx(o.C,{variant:"info",className:"mt-6",children:e.role})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d.I,{label:"Flat Number",value:b.flatNumber,onChange:e=>N(s=>({...s,flatNumber:e.target.value})),disabled:!s}),a.jsx(d.I,{label:"Building",value:b.building,onChange:e=>N(s=>({...s,building:e.target.value})),disabled:!s})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Account Security"})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:"Password"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Last updated: Never"})]}),(0,a.jsxs)(c.z,{variant:"outline",onClick:()=>w(!0),children:[a.jsx(j,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Profile Summary"})}),(0,a.jsxs)(n.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx(g,{className:"w-6 h-6 text-primary-700"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"text-sm text-gray-600",children:e.email})]})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Role:"}),a.jsx(o.C,{variant:"info",children:e.role})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Status:"}),a.jsx(o.C,{variant:e.isActive?"success":"danger",children:e.isActive?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Member since:"}),a.jsx("span",{className:"text-gray-900",children:(0,y.p6)(e.createdAt)})]})]})]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:a.jsx(n.ll,{children:"Quick Actions"})}),(0,a.jsxs)(n.aY,{className:"space-y-2",children:[(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>w(!0),children:[a.jsx(j,{className:"w-4 h-4 mr-2"}),"Change Password"]}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>window.print(),children:[a.jsx(g,{className:"w-4 h-4 mr-2"}),"Print Profile"]})]})]})]})]})]}),a.jsx(u.u,{isOpen:p,onClose:()=>w(!1),title:"Change Password",size:"md",children:(0,a.jsxs)("form",{onSubmit:M,className:"space-y-4",children:[a.jsx(d.I,{label:"Current Password",type:"password",value:P.currentPassword,onChange:e=>C(s=>({...s,currentPassword:e.target.value})),placeholder:"Enter current password",required:!0}),a.jsx(d.I,{label:"New Password",type:"password",value:P.newPassword,onChange:e=>C(s=>({...s,newPassword:e.target.value})),placeholder:"Enter new password",required:!0}),a.jsx(d.I,{label:"Confirm New Password",type:"password",value:P.confirmPassword,onChange:e=>C(s=>({...s,confirmPassword:e.target.value})),placeholder:"Confirm new password",required:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(c.z,{type:"button",variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(c.z,{type:"submit",loading:q,children:"Change Password"})]})]})})]}):a.jsx(i.A,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"User not found"}),a.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})]})})}},342:(e,s,r)=>{"use strict";r.d(s,{I:()=>l});var a=r(2295);r(3729);var t=r(1453);let l=({label:e,error:s,helperText:r,className:l,id:i,...n})=>{let c=i||`input-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"space-y-2",children:[e&&a.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{id:c,className:(0,t.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",s&&"border-red-500 focus:ring-red-500",l),...n}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s}),r&&!s&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]})}},2522:(e,s,r)=>{"use strict";r.d(s,{u:()=>n});var a=r(2295),t=r(3729),l=r(1453),i=r(4513);let n=({isOpen:e,onClose:s,title:r,children:n,size:c="md"})=>((0,t.useEffect)(()=>{let r=e=>{"Escape"===e.key&&s()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,s]),e)?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,a.jsxs)("div",{className:(0,l.cn)("relative bg-white rounded-lg shadow-xl w-full",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[c]),children:[r&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(i.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-6",children:n})]})]})}):null},5648:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>l,__esModule:()=>t,default:()=>i});let a=(0,r(6843).createProxy)(String.raw`C:\Users\Mahi\Downloads\Habitat\habitat-frontend\src\app\profile\page.tsx`),{__esModule:t,$$typeof:l}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[550,694,783,638,328],()=>r(3119));module.exports=a})();