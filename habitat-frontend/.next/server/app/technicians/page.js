(()=>{var e={};e.id=24,e.ids=[24],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3990:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(482),i=t(9108),r=t(2563),n=t.n(r),c=t(8300),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);t.d(s,l);let d=["",{children:["technicians",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3618)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\technicians\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6313)),"C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Mahi\\Downloads\\Habitat\\habitat-frontend\\src\\app\\technicians\\page.tsx"],x="/technicians/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/technicians/page",pathname:"/technicians",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5120:(e,s,t)=>{Promise.resolve().then(t.bind(t,5936))},5545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5695:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},1838:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8765:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8271:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5936:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(2295),i=t(3729),r=t(5814),n=t(951),c=t(9956),l=t(4034),d=t(342),o=t(4388),x=t(793),u=t(2522),h=t(9865),m=t(8243),p=t(1838),y=t(8765),j=t(8737);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,t(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var g=t(5545),f=t(5695),b=t(8271),N=t(1453),w=t(4669);function C(){let{hasPermission:e}=(0,r.useAuth)(),[s,t]=(0,i.useState)([]),[C,k]=(0,i.useState)(!0),[z,q]=(0,i.useState)(""),[A,M]=(0,i.useState)(!1),[Z,S]=(0,i.useState)(!1),[P,E]=(0,i.useState)(null),[_,T]=(0,i.useState)({name:"",contact:"",specializations:[],availability:""}),[D,L]=(0,i.useState)("");(0,i.useEffect)(()=>{e("technicians:read")&&I()},[]);let I=async()=>{try{k(!0);let e=await m.E.getTechnicians();t(e)}catch(e){w.default.error("Failed to fetch technicians")}finally{k(!1)}},F=async e=>{e.preventDefault();try{await m.E.createTechnician(_),w.default.success("Technician created successfully"),M(!1),G(),I()}catch(e){w.default.error("Failed to create technician")}},H=async e=>{if(e.preventDefault(),P)try{await m.E.updateTechnician(P._id,_),w.default.success("Technician updated successfully"),S(!1),E(null),G(),I()}catch(e){w.default.error("Failed to update technician")}},U=async e=>{if(confirm("Are you sure you want to delete this technician?"))try{await m.E.deleteTechnician(e),w.default.success("Technician deleted successfully"),I()}catch(e){w.default.error("Failed to delete technician")}},G=()=>{T({name:"",contact:"",specializations:[],availability:""}),L("")},O=e=>{E(e),T({name:e.name,contact:e.contact,specializations:e.specializations,availability:e.availability}),S(!0)},Y=()=>{D.trim()&&(T(e=>({...e,specializations:[...e.specializations,D.trim()]})),L(""))},$=e=>{T(s=>({...s,specializations:s.specializations.filter((s,t)=>t!==e)}))},R=(s||[]).filter(e=>e.name.toLowerCase().includes(z.toLowerCase())||e.contact.toLowerCase().includes(z.toLowerCase())||e.specializations.some(e=>e.toLowerCase().includes(z.toLowerCase())));return e("technicians:read")?(0,a.jsxs)(n.A,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Technicians"}),e("technicians:write")&&(0,a.jsxs)(l.z,{onClick:()=>M(!0),children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"Add Technician"]})]}),a.jsx(c.Zb,{children:a.jsx(c.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(y.Z,{className:"w-4 h-4 text-gray-400"})}),a.jsx(d.I,{placeholder:"Search technicians...",value:z,onChange:e=>q(e.target.value),className:"pl-10"})]})})}),(0,a.jsxs)(c.Zb,{children:[a.jsx(c.Ol,{children:(0,a.jsxs)(c.ll,{children:["All Technicians (",R.length,")"]})}),a.jsx(c.aY,{children:C?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})}):(0,a.jsxs)(h.iA,{children:[a.jsx(h.xD,{children:(0,a.jsxs)(h.SC,{children:[a.jsx(h.ss,{children:"Name"}),a.jsx(h.ss,{children:"Contact"}),a.jsx(h.ss,{children:"Specializations"}),a.jsx(h.ss,{children:"Availability"}),a.jsx(h.ss,{children:"Status"}),a.jsx(h.ss,{children:"Actions"})]})}),a.jsx(h.RM,{children:R.map(s=>(0,a.jsxs)(h.SC,{children:[a.jsx(h.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx(j.Z,{className:"w-4 h-4 text-primary-700"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:s.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Added: ",(0,N.p6)(s.createdAt)]})]})]})}),a.jsx(h.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(v,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-900",children:s.contact})]})}),a.jsx(h.pj,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:s.specializations.map((e,s)=>a.jsx(x.C,{variant:"info",className:"text-xs",children:e},s))})}),a.jsx(h.pj,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(g.Z,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-900",children:s.availability})]})}),a.jsx(h.pj,{children:a.jsx(x.C,{variant:s.isActive?"success":"default",children:s.isActive?"Active":"Inactive"})}),a.jsx(h.pj,{children:e("technicians:write")&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>O(s),children:a.jsx(f.Z,{className:"w-4 h-4"})}),a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>U(s._id),className:"text-red-600 hover:text-red-700",children:a.jsx(b.Z,{className:"w-4 h-4"})})]})})]},s._id))})]})})]}),0===R.length&&!C&&a.jsx(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"p-12 text-center",children:[a.jsx(j.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No technicians found"}),a.jsx("p",{className:"text-gray-600",children:"Add your first technician to get started."})]})})]}),a.jsx(u.u,{isOpen:A,onClose:()=>M(!1),title:"Add New Technician",size:"lg",children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[a.jsx(d.I,{label:"Name",value:_.name,onChange:e=>T(s=>({...s,name:e.target.value})),placeholder:"Enter technician name",required:!0}),a.jsx(d.I,{label:"Contact",value:_.contact,onChange:e=>T(s=>({...s,contact:e.target.value})),placeholder:"Enter contact number or email",required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specializations"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.I,{value:D,onChange:e=>L(e.target.value),placeholder:"Enter specialization",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Y())}),a.jsx(l.z,{type:"button",onClick:Y,variant:"outline",children:"Add"})]}),_.specializations.length>0&&a.jsx("div",{className:"space-y-1",children:_.specializations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e}),a.jsx(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>$(s),className:"text-red-600 hover:text-red-700",children:a.jsx(b.Z,{className:"w-3 h-3"})})]},s))})]}),a.jsx(o.g,{label:"Availability",value:_.availability,onChange:e=>T(s=>({...s,availability:e.target.value})),placeholder:"e.g., Monday-Friday 9AM-6PM, Weekends 10AM-4PM",rows:3,required:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(l.z,{type:"button",variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsx(l.z,{type:"submit",children:"Create Technician"})]})]})}),a.jsx(u.u,{isOpen:Z,onClose:()=>S(!1),title:"Edit Technician",size:"lg",children:(0,a.jsxs)("form",{onSubmit:H,className:"space-y-4",children:[a.jsx(d.I,{label:"Name",value:_.name,onChange:e=>T(s=>({...s,name:e.target.value})),required:!0}),a.jsx(d.I,{label:"Contact",value:_.contact,onChange:e=>T(s=>({...s,contact:e.target.value})),required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specializations"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(d.I,{value:D,onChange:e=>L(e.target.value),placeholder:"Enter specialization",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),Y())}),a.jsx(l.z,{type:"button",onClick:Y,variant:"outline",children:"Add"})]}),_.specializations.length>0&&a.jsx("div",{className:"space-y-1",children:_.specializations.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[a.jsx("span",{className:"text-sm text-gray-700",children:e}),a.jsx(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>$(s),className:"text-red-600 hover:text-red-700",children:a.jsx(b.Z,{className:"w-3 h-3"})})]},s))})]}),a.jsx(o.g,{label:"Availability",value:_.availability,onChange:e=>T(s=>({...s,availability:e.target.value})),rows:3,required:!0}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(l.z,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Cancel"}),a.jsx(l.z,{type:"submit",children:"Update Technician"})]})]})})]}):a.jsx(n.A,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),a.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})})}},342:(e,s,t)=>{"use strict";t.d(s,{I:()=>r});var a=t(2295);t(3729);var i=t(1453);let r=({label:e,error:s,helperText:t,className:r,id:n,...c})=>{let l=n||`input-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"space-y-2",children:[e&&a.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{id:l,className:(0,i.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",s&&"border-red-500 focus:ring-red-500",r),...c}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s}),t&&!s&&a.jsx("p",{className:"text-sm text-gray-500",children:t})]})}},2522:(e,s,t)=>{"use strict";t.d(s,{u:()=>c});var a=t(2295),i=t(3729),r=t(1453),n=t(4513);let c=({isOpen:e,onClose:s,title:t,children:c,size:l="md"})=>((0,i.useEffect)(()=>{let t=e=>{"Escape"===e.key&&s()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,s]),e)?a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,a.jsxs)("div",{className:(0,r.cn)("relative bg-white rounded-lg shadow-xl w-full",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]),children:[t&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(n.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-6",children:c})]})]})}):null},9865:(e,s,t)=>{"use strict";t.d(s,{RM:()=>c,SC:()=>l,iA:()=>r,pj:()=>o,ss:()=>d,xD:()=>n});var a=t(2295);t(3729);var i=t(1453);let r=({children:e,className:s,...t})=>a.jsx("div",{className:"overflow-x-auto",children:a.jsx("table",{className:(0,i.cn)("w-full border-collapse",s),...t,children:e})}),n=({children:e,className:s,...t})=>a.jsx("thead",{className:(0,i.cn)("bg-gray-50",s),...t,children:e}),c=({children:e,className:s,...t})=>a.jsx("tbody",{className:(0,i.cn)("bg-white divide-y divide-gray-200",s),...t,children:e}),l=({children:e,className:s,...t})=>a.jsx("tr",{className:(0,i.cn)("hover:bg-gray-50 transition-colors",s),...t,children:e}),d=({children:e,className:s,...t})=>a.jsx("th",{className:(0,i.cn)("px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b border-gray-200",s),...t,children:e}),o=({children:e,className:s,...t})=>a.jsx("td",{className:(0,i.cn)("px-4 py-4 whitespace-nowrap text-sm text-gray-900 border-b border-gray-200",s),...t,children:e})},4388:(e,s,t)=>{"use strict";t.d(s,{g:()=>r});var a=t(2295);t(3729);var i=t(1453);let r=({label:e,error:s,helperText:t,className:r,id:n,...c})=>{let l=n||`textarea-${Math.random().toString(36).substr(2,9)}`;return(0,a.jsxs)("div",{className:"space-y-2",children:[e&&a.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("textarea",{id:l,className:(0,i.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-vertical",s&&"border-red-500 focus:ring-red-500",r),...c}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s}),t&&!s&&a.jsx("p",{className:"text-sm text-gray-500",children:t})]})}},3618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});let a=(0,t(6843).createProxy)(String.raw`C:\Users\Mahi\Downloads\Habitat\habitat-frontend\src\app\technicians\page.tsx`),{__esModule:i,$$typeof:r}=a,n=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[550,694,783,638,328],()=>t(3990));module.exports=a})();