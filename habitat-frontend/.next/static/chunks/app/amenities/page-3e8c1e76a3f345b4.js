(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[596],{9617:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9883:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1138:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8407:function(e,s,t){Promise.resolve().then(t.bind(t,4114))},4114:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),r=t(2265),l=t(3779),i=t(3414),n=t(7418),c=t(6651),d=t(2278),u=t(4706),m=t(8584),o=t(492),x=t(1633),h=t(9883),y=t(7480),p=t(5750),j=t(8203),f=t(9617),v=t(1138),g=t(2169),N=t(5925);function b(){let{hasPermission:e}=(0,l.useAuth)(),[s,t]=(0,r.useState)([]),[b,w]=(0,r.useState)(!0),[C,k]=(0,r.useState)(""),[A,E]=(0,r.useState)(!1),[Z,z]=(0,r.useState)(!1),[S,I]=(0,r.useState)(null),[M,_]=(0,r.useState)({name:"",description:"",capacity:"",rules:[]}),[q,D]=(0,r.useState)("");(0,r.useEffect)(()=>{e("amenities:read")&&L()},[]);let L=async()=>{try{w(!0);let e=await x.E.getAmenities();t(e.data)}catch(e){N.default.error("Failed to fetch amenities")}finally{w(!1)}},F=async e=>{e.preventDefault();try{await x.E.createAmenity({...M,capacity:Number(M.capacity)}),N.default.success("Amenity created successfully"),E(!1),Y(),L()}catch(e){N.default.error("Failed to create amenity")}},O=async e=>{if(e.preventDefault(),S)try{await x.E.updateAmenity(S._id,{...M,capacity:Number(M.capacity)}),N.default.success("Amenity updated successfully"),z(!1),I(null),Y(),L()}catch(e){N.default.error("Failed to update amenity")}},P=async e=>{if(confirm("Are you sure you want to delete this amenity?"))try{await x.E.deleteAmenity(e),N.default.success("Amenity deleted successfully"),L()}catch(e){N.default.error("Failed to delete amenity")}},Y=()=>{_({name:"",description:"",capacity:"",rules:[]}),D("")},R=e=>{var s;I(e),_({name:e.name||"",description:e.description||"",capacity:(null!==(s=e.capacity)&&void 0!==s?s:"").toString(),rules:e.rules||[]}),z(!0)},H=()=>{q.trim()&&(_(e=>({...e,rules:[...e.rules,q.trim()]})),D(""))},K=e=>{_(s=>({...s,rules:s.rules.filter((s,t)=>t!==e)}))},V=(s||[]).filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase()));return e("amenities:read")?(0,a.jsxs)(i.A,{children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Amenities"}),e("amenities:write")&&(0,a.jsxs)(c.z,{onClick:()=>E(!0),children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Add Amenity"]})]}),(0,a.jsx)(n.Zb,{children:(0,a.jsx)(n.aY,{className:"p-6",children:(0,a.jsx)(d.I,{placeholder:"Search amenities...",value:C,onChange:e=>k(e.target.value)})})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b?(0,a.jsx)("div",{className:"col-span-full text-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"})}):V.map(s=>(0,a.jsxs)(n.Zb,{className:"relative",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)(n.ll,{className:"text-lg flex items-center space-x-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-primary-600"}),(0,a.jsx)("span",{children:s.name})]}),(0,a.jsx)(m.C,{variant:s.isActive?"success":"default",children:s.isActive?"Active":"Inactive"})]})}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:s.description}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Capacity: ",s.capacity," people"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Created: ",(0,g.p6)(s.createdAt)]})]})]}),(s.rules||[]).length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Rules:"}),(0,a.jsx)("ul",{className:"text-sm text-gray-600 space-y-1",children:(s.rules||[]).map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-primary-600",children:"â€¢"}),(0,a.jsx)("span",{children:e})]},s))})]}),e("amenities:write")&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-200",children:[(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>R(s),children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})}),(0,a.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>P(s._id),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]})]})]},s._id))}),0===V.length&&!b&&(0,a.jsx)(n.Zb,{children:(0,a.jsxs)(n.aY,{className:"p-12 text-center",children:[(0,a.jsx)(y.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No amenities found"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Add your first amenity to get started."})]})})]}),(0,a.jsx)(o.u,{isOpen:A,onClose:()=>E(!1),title:"Add New Amenity",size:"lg",children:(0,a.jsxs)("form",{onSubmit:F,className:"space-y-4",children:[(0,a.jsx)(d.I,{label:"Name",value:M.name,onChange:e=>_(s=>({...s,name:e.target.value})),placeholder:"Enter amenity name",required:!0}),(0,a.jsx)(u.g,{label:"Description",value:M.description,onChange:e=>_(s=>({...s,description:e.target.value})),placeholder:"Enter amenity description",rows:3,required:!0}),(0,a.jsx)(d.I,{label:"Capacity",type:"number",value:M.capacity,onChange:e=>_(s=>({...s,capacity:e.target.value})),placeholder:"Enter maximum capacity",min:"1",required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rules"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.I,{value:q,onChange:e=>D(e.target.value),placeholder:"Enter a rule",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),H())}),(0,a.jsx)(c.z,{type:"button",onClick:H,variant:"outline",children:"Add"})]}),M.rules.length>0&&(0,a.jsx)("div",{className:"space-y-1",children:M.rules.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,a.jsx)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>K(s),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(v.Z,{className:"w-3 h-3"})})]},s))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),(0,a.jsx)(c.z,{type:"submit",children:"Create Amenity"})]})]})}),(0,a.jsx)(o.u,{isOpen:Z,onClose:()=>z(!1),title:"Edit Amenity",size:"lg",children:(0,a.jsxs)("form",{onSubmit:O,className:"space-y-4",children:[(0,a.jsx)(d.I,{label:"Name",value:M.name,onChange:e=>_(s=>({...s,name:e.target.value})),required:!0}),(0,a.jsx)(u.g,{label:"Description",value:M.description,onChange:e=>_(s=>({...s,description:e.target.value})),rows:3,required:!0}),(0,a.jsx)(d.I,{label:"Capacity",type:"number",value:M.capacity,onChange:e=>_(s=>({...s,capacity:e.target.value})),min:"1",required:!0}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Rules"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(d.I,{value:q,onChange:e=>D(e.target.value),placeholder:"Enter a rule",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),H())}),(0,a.jsx)(c.z,{type:"button",onClick:H,variant:"outline",children:"Add"})]}),M.rules.length>0&&(0,a.jsx)("div",{className:"space-y-1",children:M.rules.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e}),(0,a.jsx)(c.z,{type:"button",variant:"outline",size:"sm",onClick:()=>K(s),className:"text-red-600 hover:text-red-700",children:(0,a.jsx)(v.Z,{className:"w-3 h-3"})})]},s))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(c.z,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Cancel"}),(0,a.jsx)(c.z,{type:"submit",children:"Update Amenity"})]})]})})]}):(0,a.jsx)(i.A,{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})})}},2278:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var a=t(7437);t(2265);var r=t(2169);let l=e=>{let{label:s,error:t,helperText:l,className:i,id:n,...c}=e,d=n||"input-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"space-y-2",children:[s&&(0,a.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:s}),(0,a.jsx)("input",{id:d,className:(0,r.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",t&&"border-red-500 focus:ring-red-500",i),...c}),t&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:t}),l&&!t&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l})]})}},492:function(e,s,t){"use strict";t.d(s,{u:function(){return n}});var a=t(7437),r=t(2265),l=t(2169),i=t(2549);let n=e=>{let{isOpen:s,onClose:t,title:n,children:c,size:d="md"}=e;return((0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return s&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[s,t]),s)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,a.jsxs)("div",{className:(0,l.cn)("relative bg-white rounded-lg shadow-xl w-full",{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[d]),children:[n&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(i.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"p-6",children:c})]})]})}):null}},4706:function(e,s,t){"use strict";t.d(s,{g:function(){return l}});var a=t(7437);t(2265);var r=t(2169);let l=e=>{let{label:s,error:t,helperText:l,className:i,id:n,...c}=e,d=n||"textarea-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"space-y-2",children:[s&&(0,a.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:s}),(0,a.jsx)("textarea",{id:d,className:(0,r.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-vertical",t&&"border-red-500 focus:ring-red-500",i),...c}),t&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:t}),l&&!t&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l})]})}}},function(e){e.O(0,[358,651,396,462,865,971,938,744],function(){return e(e.s=8407)}),_N_E=e.O()}]);