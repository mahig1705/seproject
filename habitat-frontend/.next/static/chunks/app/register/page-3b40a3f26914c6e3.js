(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{7216:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},9670:function(e,r,s){"use strict";s.d(r,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(2898).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6165:function(e,r,s){Promise.resolve().then(s.bind(s,4218))},4218:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return f}});var a=s(7437),t=s(2265),l=s(4033),n=s(1396),i=s.n(n),o=s(3779),c=s(6651),d=s(2278),u=s(9173),m=s(7418),x=s(7480),h=s(7216),p=s(9670);function f(){let[e,r]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",role:""}),[s,n]=(0,t.useState)(!1),[f,y]=(0,t.useState)(!1),[j,g]=(0,t.useState)(!1),[b,w]=(0,t.useState)({}),{register:v,user:N,isLoading:P}=(0,o.useAuth)(),k=(0,l.useRouter)();(0,t.useEffect)(()=>{N&&!P&&k.push("/dashboard")},[N,P,k]);let C=()=>{let r={};return e.name.trim()||(r.name="Name is required"),e.email?/\S+@\S+\.\S+/.test(e.email)||(r.email="Email is invalid"):r.email="Email is required",e.password?e.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",e.confirmPassword?e.password!==e.confirmPassword&&(r.confirmPassword="Passwords do not match"):r.confirmPassword="Please confirm your password",e.role||(r.role="Role is required"),w(r),0===Object.keys(r).length},S=async r=>{if(r.preventDefault(),C()){g(!0);try{await v({name:e.name,email:e.email,password:e.password,role:e.role})&&k.push("/dashboard")}catch(e){console.error("Registration error:",e)}finally{g(!1)}}},E=(e,s)=>{r(r=>({...r,[e]:s})),b[e]&&w(r=>({...r,[e]:""}))};return P?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"w-8 h-8 text-white"})})}),(0,a.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Join Habitat Society Management"})]}),(0,a.jsxs)(m.Zb,{children:[(0,a.jsx)(m.Ol,{children:(0,a.jsx)(m.ll,{children:"Register"})}),(0,a.jsxs)(m.aY,{children:[(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,a.jsx)(d.I,{label:"Full Name",type:"text",value:e.name,onChange:e=>E("name",e.target.value),error:b.name,placeholder:"Enter your full name",required:!0}),(0,a.jsx)(d.I,{label:"Email address",type:"email",value:e.email,onChange:e=>E("email",e.target.value),error:b.email,placeholder:"Enter your email",required:!0}),(0,a.jsx)(u.P,{label:"Role",value:e.role,onChange:e=>E("role",e.target.value),options:[{value:"admin",label:"Admin"},{value:"resident",label:"Resident"},{value:"committee",label:"Committee"},{value:"security",label:"Security"}],error:b.role,required:!0}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.I,{label:"Password",type:s?"text":"password",value:e.password,onChange:e=>E("password",e.target.value),error:b.password,placeholder:"Enter your password",required:!0}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!s),children:s?(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.I,{label:"Confirm Password",type:f?"text":"password",value:e.confirmPassword,onChange:e=>E("confirmPassword",e.target.value),error:b.confirmPassword,placeholder:"Confirm your password",required:!0}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!f),children:f?(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 text-gray-400"})})]}),(0,a.jsx)(c.z,{type:"submit",className:"w-full",loading:j,disabled:j,children:"Create Account"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(i(),{href:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})})]})]})]})})}},2278:function(e,r,s){"use strict";s.d(r,{I:function(){return l}});var a=s(7437);s(2265);var t=s(2169);let l=e=>{let{label:r,error:s,helperText:l,className:n,id:i,...o}=e,c=i||"input-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"space-y-2",children:[r&&(0,a.jsx)("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700",children:r}),(0,a.jsx)("input",{id:c,className:(0,t.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",s&&"border-red-500 focus:ring-red-500",n),...o}),s&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:s}),l&&!s&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l})]})}},9173:function(e,r,s){"use strict";s.d(r,{P:function(){return l}});var a=s(7437);s(2265);var t=s(2169);let l=e=>{let{label:r,error:s,helperText:l,options:n,className:i,id:o,...c}=e,d=o||"select-".concat(Math.random().toString(36).substr(2,9));return(0,a.jsxs)("div",{className:"space-y-2",children:[r&&(0,a.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:r}),(0,a.jsx)("select",{id:d,className:(0,t.cn)("w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",s&&"border-red-500 focus:ring-red-500",i),...c,children:n.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),s&&(0,a.jsx)("p",{className:"text-sm text-red-600",children:s}),l&&!s&&(0,a.jsx)("p",{className:"text-sm text-gray-500",children:l})]})}}},function(e){e.O(0,[358,651,396,462,971,938,744],function(){return e(e.s=6165)}),_N_E=e.O()}]);