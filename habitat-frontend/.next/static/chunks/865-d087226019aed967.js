"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{2894:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},3021:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8203:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1738:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},2527:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},5750:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9031:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]])},2549:function(e,s,i){i.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,i(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3414:function(e,s,i){i.d(s,{A:function(){return M}});var r=i(7437),t=i(2265),n=i(1396),a=i.n(n),l=i(4033),c=i(3779),o=i(4494),d=i(2169),x=i(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,x.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var m=i(5750),u=i(2894),y=i(2527),f=i(1738),p=i(3021),N=i(7480),g=i(8203),b=i(9031),v=i(2549);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,x.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),k=e=>{var s;let{isOpen:i,onClose:t}=e,n=(0,l.usePathname)(),x=(0,l.useRouter)(),{user:k,logout:E,hasRole:T,hasPermission:w}=(0,c.useAuth)(),M=[{name:"Dashboard",href:"/dashboard",icon:h,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT,o.i4.SECURITY,o.i4.TECHNICIAN]},{name:"Users",href:"/users",icon:m.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE],permission:"users:read"},{name:"Issues",href:"/issues",icon:u.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT],permission:"issues:read"},{name:"Visitors",href:"/visitors",icon:y.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.SECURITY],permission:"visitors:read"},{name:"Bills",href:"/bills",icon:f.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT],permission:"bills:read"},{name:"Notices",href:"/notices",icon:p.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT,o.i4.SECURITY,o.i4.TECHNICIAN],permission:"notices:read"},{name:"Amenities",href:"/amenities",icon:N.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT],permission:"amenities:read"},{name:"Bookings",href:"/bookings",icon:g.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE,o.i4.RESIDENT,o.i4.TENANT],permission:"bookings:read"},{name:"Technicians",href:"/technicians",icon:b.Z,roles:[o.i4.ADMIN,o.i4.COMMITTEE],permission:"technicians:read"}].filter(e=>!!(k&&(!e.roles||e.roles.includes(k.role))&&(!e.permission||w(e.permission)))),C=async()=>{await E(),x.push("/login")};return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),(0,r.jsx)("div",{className:(0,d.cn)("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:static lg:translate-x-0",i?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(N.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"Habitat"})]}),(0,r.jsx)("button",{onClick:t,className:"lg:hidden text-gray-400 hover:text-gray-600",children:(0,r.jsx)(v.Z,{className:"w-5 h-5"})})]}),(0,r.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:M.map(e=>{let s=n===e.href;return(0,r.jsxs)(a(),{href:e.href,onClick:t,className:(0,d.cn)("flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",s?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,r.jsx)(e.icon,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:e.name})]},e.name)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary-700",children:null==k?void 0:null===(s=k.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null==k?void 0:k.name}),(0,r.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:null==k?void 0:k.role})]})]}),(0,r.jsxs)("button",{onClick:C,className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,r.jsx)(j,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Logout"})]})]})]})})]})},E=(0,x.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var T=i(6651);let w=e=>{var s;let{onMenuClick:i}=e,{user:n}=(0,c.useAuth)(),[a,l]=(0,t.useState)(!1);return(0,r.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 lg:pl-64",children:(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)(T.z,{variant:"outline",size:"sm",onClick:i,className:"lg:hidden",children:(0,r.jsx)(E,{className:"w-4 h-4"})})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 ml-auto",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(T.z,{variant:"outline",size:"sm",onClick:()=>l(!a),className:"relative",children:[(0,r.jsx)(p.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),a&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,r.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"No new notifications"})})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",children:(0,r.jsx)("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-sm font-medium text-primary-700",children:null==n?void 0:null===(s=n.name)||void 0===s?void 0:s.charAt(0).toUpperCase()})})})]})]})})},M=e=>{let{children:s}=e,[i,n]=(0,t.useState)(!1);return(0,r.jsxs)("div",{className:"flex h-screen overflow-hidden bg-gray-50",children:[(0,r.jsx)(k,{isOpen:i,onClose:()=>n(!1)}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-auto",children:[(0,r.jsx)(w,{onMenuClick:()=>n(!0)}),(0,r.jsx)("main",{className:"flex-1 p-6",children:s})]})]})}},8584:function(e,s,i){i.d(s,{C:function(){return n}});var r=i(7437);i(2265);var t=i(2169);let n=e=>{let{variant:s="default",children:i,className:n,...a}=e;return(0,r.jsx)("span",{className:(0,t.cn)("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",{success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",default:"bg-gray-100 text-gray-800"}[s],n),...a,children:i})}}}]);